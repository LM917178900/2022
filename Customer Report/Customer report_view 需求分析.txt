
【Customer report_view 需求分析】





页面内容 存在条件/操作前提 交互及说明 提示
 
 

数据特性和UI要求
1、只能看发了版的数据
2、每个元素都有点击可收起的功能，且没有垂直滚动条，一直展示完为止。
 
 
 
 

数据权限
高保密产品
1、只要绑定了该用户，他就能看
 
非高保密项目
1、无论是否绑定都能看
 
 
 
 

User  View
默认展示页面
这版数据配的什么就展示什么。
 
 
 
 

下拉选择【My Report】
支持模糊搜索的单必选，数据源来自当前表中的所有【My Report】去重
 
 
 
 

下拉选择【Product】
1、支持模糊搜索的单必选，数据源来自【Master Data Config→Product Mapping→字段NPI Product Name】。
2、且与上一个字段不存在级联关系。
 
 
 
 

下拉选择【Version】
1、支持模糊搜索的单必选，数据源来自当前表中的数据版本号，且与下拉选择【Product】，存在数联动。
 
 
 
 

按钮【Search】
1、输入正确的查询集后，点击可刷新页面展示结果
 
 
 
 

按钮【Create】
没有这个按钮权限的人就看不到这个按钮
1、点击系统当前页面跳转到编辑页面。
2、没有这个按钮权限的人就看不到这个按钮。
 
 
 
 

按钮【Download】
1、点击将当前页面预览的内容以PDF的形式下载下来。

2、假设以Customer视图下载，那此时下载的内容就是用户看到的那样的。Unit:K不管去不去掉都以K的状态下载。
 
 
 
 

结果展示
这版数据配的什么就展示什么。
 
 
 
 

Create View
点击按钮【Create】成功
 
 
 
 
 
 

重要
以上4个下拉选择的组合情况说明
-----默认进入到页面，页面展示的数据

●情况A-1：不存在Draft数据时。当默认选中个最新的【My Report】、【Product】，当默认的那个【Product】，且页面展示的数据则是以这个产品去数据库拿的最新的数据。

●情况A-2：存在Draft数据时。默认选中个最新的【My Report】、【Product】，当默认选中的那个产品，这时系统会默认把Draft为【Status】选中，而后面的字段为空，且页面展示的数据则是这个产品的之前存的Draft数据。




-----当页面已有数据时，用户想要切换查询：

●情况B-1：存在Draft数据时。当用户重新选择了【My Report】、【Product】时，这时系统会默认把【Status】置为Draft状态，用户确认后点击【Search】成功后，系统默认把之前存的旧快照拿出来展示。

●情况B-2：不存在Draft数据时，那就和情况A-1一样，当用户重新选择【My Report】、【Product】后，后面的都为空，用户确认后点击【Search】成功后，系统查该产品在各报表元素中最新的数据出来展示。

总结：Version永远是用户自已选的，系统不会默认。Status只有新产品或Draft版被删时，才是空，否则系统都是默认的Draft。即只有当Version里选了值或存在某个Template的Draft数据，Search才是查询，否则都是承载了Refresh的功能。
 
 
 
 

下拉选择【My Report】
支持模糊搜索的单必选，数据源来自当前表中的所有【My Report】去重
 
 
 
 

下拉选择【Product】
1、带模糊搜索的下拉单必选，数据源：Master Data Config → Product Mapping→字段【NPI Product Name】，且当前用户必须在该表的字段【SCPM ID】、【Mgmt Team】、【NPI Biz Admin】中选定的组合人之中。
2、该下拉列表，需要按Master Data Config → Product Mapping→字段【Create Date】进行排序，最新的在最前面。
3、默认选中最新的。
 
 
 
 

下拉选择【Status】
1、带模糊搜索的下拉单选，数据源：【Master Data Config → Report Status】，且与上个字段没有级联关系。
 
 
 
 

下拉选择【Version】
1、带模糊搜索的下拉单选，数据源为当前表的Version，且与上个字段有级联关系。
 
 
 
 

按钮【Search】
1、输入正确的查询集后，点击可刷新页面展示结果
 
 
 
 

按钮【View】
1、点击系统当前页面跳转到编辑页面。
 
 
 
 

按钮【Design】
1、没有这个按钮权限的人看不到这个按钮。
2、点击这个按钮进入报表设计页面。
 
 
 
 

按钮【Refresh】
1、点击可将以下所有Tab页的内容刷新，除了【Key Update】用户已编辑好的内容不刷新外。
 
 
 
 

按钮【Save】
【没有保存过的】Save了就是Draft的状态了。

【Draft】的Save过了就是Draft的。

【Published】Save过了，就更新了最新的Draft内容为现在保存的这个
 
 
 
 

按钮【Publish】
1、点击可以将Draft状态的数据，改为复制一份生成Published的版数据。（原来的呢？？）
2、若是没有保存过的数据直接就Publish，那这时系统会自动保存一版Draft的数据。（没有保存：分别生成 draft/publish数据？保存的呢？）




按钮【Delete】
1、可以删除任何状态的报表。
 
 
 
 

按钮【Download】
1、点击将当前页面预览的内容以PDF的形式下载下来。
2、假设以Customer视图下载，那此时下载的内容就是用户看到的那样的。Unit:K不管去不去掉都以K的状态下载。
3、版本号生成规则：产品名称_My Report名称_年月日_00（2位每天自动增长数，超过99就100向上）
 
 
 
 

结果展示
1、这个模版选择了哪些报表元素，用这个模版的这版报表，就只能以这个模版为基础进行调整。

2、注意：Notepad元素时，这个人编辑的【Workplace→NPI Notepad】下相同产品的笔记可以在这里被选择，且新增/修改笔记时也不能同步到我的笔记本里去了

